<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agricultural E-commerce - Buyer Feed</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
    <!-- External CSS -->
    <link href="style.css" rel="stylesheet" />
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="#">AgriBids</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="buyersDashboard.html">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Notifications</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container mt-5">
        <div class="row">
            <!-- Cart Section -->
            <div class="col-md-2 mb-2" id="cartSection">
                <div class="cart-title">Your Cart</div>
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be displayed here -->
                </div>
                <div class="total-price" id="totalPrice">Total: $0.00</div>
                <button class="btn btn-primary" id="checkoutBtn" style="display: none;" onclick="checkout()">Proceed to Checkout</button>
            </div>

            <!-- Product Feed Section -->
            <div class="col-md-10">
                <div class="row">

                    <!-- Product Card (Bidding) -->
                    <div class="col-md-4 mb-4">
                        <div class="product-card">
                            <!-- Image Placeholder -->
                            <img src="images/tomato.jpg" class="product-image" alt="product image">

                            <div class="product-info">
                                <h5 class="product-name">Fresh Tomato</h5>
                                <p class="farmer-info">Farmer: Jhon</p>
                                <p class="rating">Rating: ★★★★★</p>
                                <p class="price">Price: 30 TK/KG</p>

                                <!-- Bidding Option (Price Selector) -->
                                <div class="bidding-section">
                                    <label>Bidding:</label>
                                    <input type="checkbox" id="biddingSwitch" class="form-check-input" checked>
                                </div>

                                <!-- Price Selector for Bidding Product -->
                                <div class="price-selector">
                                    <label for="offeredPrice">Your Offered Price (TK/KG):</label>
                                    <input type="number" id="offeredPrice" class="form-control " min="0" value="30">
                                </div>

                                <!-- Offer Your Price Button for Bidding Products -->
                                <div class="action-button">
                                    <button class="btn btn-success" onclick="offerPrice('Tomatoes')">Offer Your Price</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Product Card (Non-Bidding) -->
                    <div class="col-md-4 mb-4">
                        <div class="product-card">
                            <!-- Image Placeholder -->
                            <img src="images/apples.jpg" class="product-image" alt="product image">
                            <div class="product-info">
                                <h5 class="product-name">Organic Apples</h5>
                                <p class="farmer-info">Farmer: Green Valley Orchards</p>
                                <p class="rating">Rating: ★★★★★</p>
                                <p class="price">Price: 40 TK/KG</p>

                                <div class="bidding-section">
                                    <label>Bidding:</label>
                                    <input type="checkbox" id="biddingSwitch" class="form-check-input" >
                                </div>

                                <!-- Quantity Selector for Non-Bidding Product -->
                                <div class="quantity-selector">
                                    <button class="btn btn-outline-secondary" onclick="changeQuantity('Apples', 'decrease')">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" id="quantityApples" value="1" class="form-control" readonly>
                                    <button class="btn btn-outline-secondary" onclick="changeQuantity('Apples', 'increase')">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>

                                <!-- Add to Cart Button -->
                                <div class="action-button">
                                    <button class="btn btn-success" onclick="addToCart('Apples', 40)">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-4 mb-4">
                        <div class="product-card">
                            <!-- Image Placeholder -->
                            <img src="images/potato.jpg" class="product-image" alt="product image">

                            <div class="product-info">
                                <h5 class="product-name">Potato</h5>
                                <p class="farmer-info">Farmer: lhon</p>
                                <p class="rating">Rating: ★★★★★</p>
                                <p class="price">Price: 30 TK/KG</p>

                                <!-- Bidding Option (Price Selector) -->
                                <div class="bidding-section">
                                    <label>Bidding:</label>
                                    <input type="checkbox" id="biddingSwitch" class="form-check-input" checked>
                                </div>

                                <!-- Price Selector for Bidding Product -->
                                <div class="price-selector">
                                    <label for="offeredPrice">Your Offered Price (TK/KG):</label>
                                    <input type="number" id="offeredPrice" class="form-control " min="0" value="30">
                                </div>

                                <!-- Offer Your Price Button for Bidding Products -->
                                <div class="action-button">
                                    <button class="btn btn-success" onclick="offerPrice('Tomatoes')">Offer Your Price</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 mb-4">
                        <div class="product-card">
                            <!-- Image Placeholder -->
                           
                            <img src="images/amropali.jpg" class="product-image" alt="product image">
                            <div class="product-info">
                                <h5 class="product-name">Amropali Mango</h5>
                                <p class="farmer-info">Farmer: Green Valley Orchards</p>
                                <p class="rating">Rating: ★★★★★</p>
                                <p class="price">Price: 50 TK/KG</p>

                                <div class="bidding-section">
                                    <label>Bidding:</label>
                                    <input type="checkbox" id="biddingSwitch" class="form-check-input" >
                                </div>

                                <!-- Quantity Selector for Non-Bidding Product -->
                                <div class="quantity-selector">
                                    <button class="btn btn-outline-secondary" onclick="changeQuantity('Apples', 'decrease')">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" id="quantityApples" value="1" class="form-control" readonly>
                                    <button class="btn btn-outline-secondary" onclick="changeQuantity('Apples', 'increase')">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>

                                <!-- Add to Cart Button -->
                                <div class="action-button">
                                    <button class="btn btn-success" onclick="addToCart('Apples', 40)">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 mb-4">
                        <div class="product-card">
                            <!-- Image Placeholder -->
                            <img src="images/cauli.jpg" class="product-image" alt="product image">

                            <div class="product-info">
                                <h5 class="product-name">Cauli Flower</h5>
                                <p class="farmer-info">Farmer: lhon</p>
                                <p class="rating">Rating: ★★★★★</p>
                                <p class="price">Price: 5 TK/Piece</p>

                                <!-- Bidding Option (Price Selector) -->
                                <div class="bidding-section">
                                    <label>Bidding:</label>
                                    <input type="checkbox" id="biddingSwitch" class="form-check-input" checked>
                                </div>

                                <!-- Price Selector for Bidding Product -->
                                <div class="price-selector">
                                    <label for="offeredPrice">Your Offered Price (TK/KG):</label>
                                    <input type="number" id="offeredPrice" class="form-control " min="0" value="30">
                                </div>

                                <!-- Offer Your Price Button for Bidding Products -->
                                <div class="action-button">
                                    <button class="btn btn-success" onclick="offerPrice('Tomatoes')">Offer Your Price</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 mb-4">
                        <div class="product-card">
                            <!-- Image Placeholder -->
                            <img src="images/eggpalnt.jpg" class="product-image" alt="product image">
                            <div class="product-info">
                                <h5 class="product-name">Egg Plant</h5>
                                <p class="farmer-info">Farmer: Green Valley Orchards</p>
                                <p class="rating">Rating: ★★★★★</p>
                                <p class="price">Price: 40 TK/KG</p>

                                <div class="bidding-section">
                                    <label>Bidding:</label>
                                    <input type="checkbox" id="biddingSwitch" class="form-check-input" >
                                </div>

                                <!-- Quantity Selector for Non-Bidding Product -->
                                <div class="quantity-selector">
                                    <button class="btn btn-outline-secondary" onclick="changeQuantity('Apples', 'decrease')">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" id="quantityApples" value="1" class="form-control" readonly>
                                    <button class="btn btn-outline-secondary" onclick="changeQuantity('Apples', 'increase')">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>

                                <!-- Add to Cart Button -->
                                <div class="action-button">
                                    <button class="btn btn-success" onclick="addToCart('Apples', 40)">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2023 AgriBids. All rights reserved.</p>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let cart = [];
        let totalPrice = 0;

        // Function to change the quantity of a product
        function changeQuantity(productName, action) {
            let quantityInput = document.getElementById(`quantity${productName}`);
            let currentQuantity = parseInt(quantityInput.value);

            if (action === 'increase') {
                quantityInput.value = currentQuantity + 1;
            } else if (action === 'decrease' && currentQuantity > 1) {
                quantityInput.value = currentQuantity - 1;
            }
        }

        // Function to handle "Add to Cart"
        function addToCart(productName, price) {
            let quantity = parseInt(document.getElementById(`quantity${productName}`).value);
            let totalPriceForProduct = price * quantity;

            // Add product to the cart
            let cartItems = document.getElementById("cartItems");
            let cartItem = document.createElement("div");
            cartItem.classList.add("cart-item");
            cartItem.textContent = `${productName} - ${price} TK x ${quantity} = ${totalPriceForProduct} TK`;
            cartItems.appendChild(cartItem);

            updateCart(totalPriceForProduct);
        }

        // Function to update the cart and calculate total price
        function updateCart(itemPrice) {
            totalPrice += itemPrice;
            document.getElementById("totalPrice").textContent = `Total: ${totalPrice} TK`;

            // Show "Proceed to Checkout" button if there are items in the cart
            document.getElementById("checkoutBtn").style.display = itemPrice > 0 ? 'block' : 'none';
        }

        // Function for the "Offer Your Price" feature (Bidding)
        function offerPrice(productName) {
            let offeredPrice = document.getElementById("offeredPrice").value;
            if (offeredPrice && !isNaN(offeredPrice) && offeredPrice > 0) {
                alert(`You have offered ${offeredPrice} TK for ${productName}`);
            } else {
                alert("Please enter a valid price.");
            }
        }
    </script>
</body>

</html>
